# 100首钢琴抒情曲生成器 🎹

## 功能特点

- ✅ 生成100首不同主题的钢琴抒情曲
- ✅ **女声演唱** - 所有歌曲使用温柔的女声
- ✅ **自定义文件名** - 每首歌曲以歌名命名
- ✅ 自动保存进度 - 每10首歌曲保存一次
- ✅ 错误重试机制 - 失败自动重试3次
- ✅ 生成详细报告 - JSON和Markdown格式
- ✅ 自动创建播放列表

## 快速开始

### 1. 安装依赖

```bash
cd /Users/yanhui/CascadeProjects/ai-music-generator
npm install
```

### 2. 运行生成器

```bash
node generate_100_songs.js
```

## 歌曲主题分类

### 💕 爱情主题 (1-10)
1. 初次相遇 - 甜蜜、心跳
2. 思念的距离 - 异地恋
3. 求婚 - 浪漫、感动
4. 婚礼进行曲 - 神圣、喜悦
5. 银发誓言 - 金婚、陪伴
6. 失恋的夜晚 - 伤感、治愈
7. 暗恋 - 羞涩、甜蜜
8. 情人节 - 浪漫、甜蜜
9. 吵架后的和解 - 温馨、包容
10. 校园恋爱 - 青春、纯真

### 🤝 友情主题 (11-15)
11. 挚友情谊 - 真诚、温暖
12. 闺蜜 - 亲密、分享
13. 兄弟 - 义气、信任
14. 老友重逢 - 怀旧、感动
15. 离别赠言 - 不舍、祝福

### 👨‍👩‍👧‍👦 亲情主题 (16-25)
16. 母爱 - 温暖、感恩
17. 父爱如山 - 深沉、敬重
18. 家的温暖 - 温馨、归属
19. 摇篮曲 - 温柔、安宁
20. 游子吟 - 乡愁、怀念

### 💪 梦想励志 (26-35)
26. 追逐梦想 - 励志、向上
27. 永不放弃 - 坚定、鼓励
28. 成长 - 感悟、收获
29. 毕业季 - 留恋、期待
30. 新开始 - 希望、勇气

### 🌿 自然风景 (36-45)
36. 春暖花开 - 生机、美好
37. 夏日午后 - 慵懒、惬意
38. 落叶知秋 - 诗意、沉思
39. 冬日暖阳 - 温暖、宁静
40. 海边漫步 - 悠闲、浪漫
41. 山间清晨 - 清新、宁静
42. 星空下的愿望 - 梦幻、憧憬

### 💗 情绪疗愈 (46-55)
46. 治愈心灵 - 安慰、温暖
47. 孤独的时候 - 陪伴、理解
48. 焦虑的夜晚 - 安抚、平静
49. 微笑的力量 - 积极、阳光
50. 冥想时刻 - 宁静、内省

### ⏰ 时光记忆 (56-65)
56. 童年时光 - 纯真、怀念
57. 青春纪念册 - 热血、回忆
58. 时光荏苒 - 感慨、珍惜
59. 老照片 - 怀旧、温暖
60. 新年祝福 - 喜庆、祝福

### 🌟 生命感悟 (66-75)
66. 生命的意义 - 哲思、感悟
67. 感恩的心 - 感激、温暖
68. 宽恕 - 释怀、和解
69. 平凡的伟大 - 赞美、肯定
70. 选择 - 思考、勇气

### 🎨 艺术灵感 (76-85)
76. 月光曲 - 优雅、诗意
77. 雨的印记 - 清冷、诗意
78. 风的诗篇 - 自由、轻柔
79. 四季轮回 - 循环、永恒
80. 花开花落 - 无常、美丽

### 💫 特殊情感 (86-95)
86. 遗憾 - 感伤、释怀
87. 勇气 - 坚定、力量
88. 希望 - 光明、期待
89. 自由 - 释放、飞翔
90. 信任 - 坚定、安心

### 🎭 终章 (96-100)
96. 感恩相遇 - 感激、温暖
97. 未完待续 - 期待、希望
98. 再见昨天 - 释怀、向前
99. 人生如歌 - 感悟、哲理
100. 永恒的爱 - 神圣、庄严

## 输出文件

生成完成后，会在 `output/` 目录下生成以下文件：

### 单首歌曲文件
```
output/
├── song_1_初次相遇.json
├── song_2_思念的距离.json
├── song_3_求婚.json
├── ...
└── song_100_永恒的爱.json
```

### 汇总文件
- **progress.json** - 实时进度文件
- **final_report.json** - 完整生成报告（JSON格式）
- **REPORT.md** - 可读性报告（Markdown格式）
- **playlist.json** - 播放列表

### 音频文件
音频文件会以歌曲名称保存：
```
output/
├── 初次相遇.wav
├── 思念的距离.wav
├── 求婚.wav
├── ...
└── 永恒的爱.wav
```

## 每首歌曲信息包含

```json
{
  "id": 1,
  "title": "初次相遇",
  "theme": "初遇",
  "mood": "甜蜜、心跳",
  "prompt": "A beautiful piano melody capturing the moment of first love encounter, sweet and tender, female vocals, gentle and emotional woman's singing voice",
  "lyrics": "[verse]\n人群之中看见你...",
  "audio_url": "https://gpu-pod695f21981228d81fa9e89bc7-8000.web.gpu.csdn.net/output/初次相遇.wav",
  "output_path": "./output/初次相遇.wav",
  "duration_seconds": "125.3",
  "status": "success",
  "generated_at": "2025-01-XXTXX:XX:XX.XXXZ"
}
```

## 技术参数

- **音频时长**: 120秒（2分钟）
- **推理步数**: 50
- **引导强度**: 15.0
- **调度器**: Euler
- **CFG类型**: APG
- **随机种子**: 43-142（每首歌曲不同）
- **音色**: 女声（female vocals）
- **音乐风格**: 钢琴抒情曲

## 预计时间

- 单首歌曲: 约2分钟
- 总计100首: 约3.3小时
- 考虑到网络延迟和重试: 预计4-5小时

## 进度监控

程序运行时会显示：

```
================================================================================
🎵 生成进度: 1/100 (1.0%)
================================================================================
📝 标题: 初次相遇
🎨 主题: 初遇
💭 情绪: 甜蜜、心跳
⏱️  开始时间: 2025-01-XX XX:XX:XX
✅ 生成成功! (耗时: 125.3秒)
🔗 下载链接: https://gpu-pod695f21981228d81fa9e89bc7-8000.web.gpu.csdn.net/output/初次相遇.wav
```

每10首歌曲会显示进度保存提示：
```
💾 已完成 10/100，进度已保存
```

## 错误处理

- 自动重试3次
- 失败后跳过当前歌曲，继续下一首
- 所有失败记录都会保存在最终报告中
- 可以查看 `final_report.json` 了解失败原因

## 注意事项

⚠️ **重要提醒**:
1. 确保网络连接稳定
2. 生成过程需要4-5小时，请保持程序运行
3. 不要关闭终端窗口
4. 如果中途中断，可以查看已生成的歌曲
5. API可能有调用限制，已设置1秒间隔

## 自定义配置

如需修改参数，编辑 `generate_100_songs.js`:

```javascript
// 修改音频时长
audio_duration: 180, // 改为3分钟

// 修改推理步数（更高=更好但更慢）
infer_step: 100,

// 修改引导强度
guidance_scale: 12.0,

// 修改女声提示词
prompt: `${song.prompt}, female vocals, woman's singing voice, soft and gentle`,
```

## 查看结果

### 方式1: 查看JSON报告
```bash
cat output/final_report.json | jq '.summary'
```

### 方式2: 查看Markdown报告
```bash
cat output/REPORT.md
```

### 方式3: 查看播放列表
```bash
cat output/playlist.json | jq '.[] | {title, url}'
```

## 常见问题

### Q: 如何只生成部分歌曲？
A: 修改 `songs` 数组，只保留需要的歌曲。

### Q: 如何修改歌曲主题？
A: 编辑 `songs` 数组中的歌曲信息。

### Q: 生成失败怎么办？
A: 查看失败的记录，可以单独重新生成。

### Q: 如何批量下载？
A: 查看 `playlist.json`，使用下载工具批量下载。

## 许可证

MIT

---

**享受音乐创作之旅！** 🎵
